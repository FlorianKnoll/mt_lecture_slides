\tikzsetnextfilename{mr_spatial_encoding_pattern_1}
\begin{tikzpicture}[scale=0.5]
	\draw[white] (-4, -1) rectangle (20, 1);
	\draw (-1, 0) node {$\sum$};
	\draw (-2, 0) node {$=$};
	\draw (-1, 1.5) node [anchor=east] {pattern:};
	\draw[ultra thick,->] (-3, -0.25) -- (-3,0.25);
	\pgfmathsetmacro{\angle}{36}
	\pgfmathsetmacro{\startangle}{90}
	\foreach \idx in {0,1,...,19} {
		\pgfmathsetmacro{\anglevalue}{\startangle+\idx*\angle}
		\pgfmathsetmacro{\x}{\idx+0.4*cos(\anglevalue)}
		\pgfmathsetmacro{\a}{\idx-0.4*cos(\anglevalue)}
		\pgfmathsetmacro{\y}{1.5+0.4*sin(\anglevalue)}
		\pgfmathsetmacro{\b}{1.5+-0.4*sin(\anglevalue)}
		\draw[thick,<-] (\x, \y) -- (\a, \b);
	}
	\foreach \idx in {0,1,...,19} {
		\draw ($(\idx,0)-(0.5,0.5)$) rectangle ($(\idx,0)+(0.5,0.5)$);
	}
	\foreach \idx in {0,1,2,8,9,10,11,12,18,19} {
		\pgfmathsetmacro{\anglevalue}{\startangle+\idx*\angle}
		\pgfmathsetmacro{\x}{\idx+0.4*cos(\anglevalue)}
		\pgfmathsetmacro{\a}{\idx-0.4*cos(\anglevalue)}
		\pgfmathsetmacro{\y}{0.4*sin(\anglevalue)}
		\pgfmathsetmacro{\b}{-0.4*sin(\anglevalue)}
		\draw[thick,<-] (\x, \y) -- (\a, \b);
	}
	\draw[very thick,decoration={brace, mirror},decorate] (2.6, -0.7) -- node [below,font=\small] {\parbox{5.5cm}{\centering {\footnotesize no hydrogen nuclei here}}} (7.4, -0.7);
	\draw[very thick,decoration={brace, mirror},decorate] (12.6, -0.7) -- node [below,font=\small] {\parbox{5.5cm}{\centering {\footnotesize no hydrogen nuclei here}}} (17.4, -0.7);
\end{tikzpicture}